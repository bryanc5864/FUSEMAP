# TileFormer Configuration
# COMPLETE config with EVERY required parameter

# ═══════════════════════════════════════════════════════════════════════════
# HARDWARE SETTINGS
# ═══════════════════════════════════════════════════════════════════════════
hardware:
  gpu_id: 3
  memory_target_gb: 2.0
  num_workers: 0

# ═══════════════════════════════════════════════════════════════════════════
# REPRODUCIBILITY SETTINGS
# ═══════════════════════════════════════════════════════════════════════════
reproducibility:
  benchmark: false
  deterministic: true
  seed: 42

# ═══════════════════════════════════════════════════════════════════════════
# MODEL ARCHITECTURE
# ═══════════════════════════════════════════════════════════════════════════
model:
  seq_len: 20
  d_model: 192
  n_heads: 4
  n_layers: 2
  d_ff: 256
  dropout: 0.1
  num_classes: 1
  learning_rate: 0.0003
  weight_decay: 0.00001
  batch_size: 64
  max_epochs: 10
  warmup_steps: 1000
  use_scheduler: true

# ═══════════════════════════════════════════════════════════════════════════
# TRAINING PARAMETERS
# ═══════════════════════════════════════════════════════════════════════════
training:
  learning_rate: 0.0003
  weight_decay: 0.00001
  batch_size: 64
  max_epochs: 10
  warmup_steps: 1000
  use_scheduler: true
  grad_clip: 1.0
  train_split: 0.8
  val_split: 0.1
  test_split: 0.1
  patience: 5
  gradient_clip_val: 1.0
  val_check_interval: 0.25
  mixed_precision: true
  accumulate_grad_batches: 1

# ═══════════════════════════════════════════════════════════════════════════
# DATA PATHS
# ═══════════════════════════════════════════════════════════════════════════
data:
  corpus_path: "data/corpus_50k_features.tsv"
  corpus_with_potential_path: "data/corpus_50k_with_abps.tsv"
  encode4_path: "/home/bcheng/mainproject/data/human_genome_train.tsv"
  output_dir: "outputs"
  checkpoint_dir: "checkpoints"
  logs_dir: "logs"
  plots_dir: "plots"

# ═══════════════════════════════════════════════════════════════════════════
# LOGGING SETTINGS
# ═══════════════════════════════════════════════════════════════════════════
logging:
  save_every_n_epochs: 5

# ═══════════════════════════════════════════════════════════════════════════
# EVALUATION SETTINGS
# ═══════════════════════════════════════════════════════════════════════════
evaluation:
  create_diagnostic_plots: true

# ═══════════════════════════════════════════════════════════════════════════
# ABPS ELECTROSTATIC PROCESSING
# ═══════════════════════════════════════════════════════════════════════════
abps:
  method: "tleap"
  work_dir: "data/abps_work"
  cleanup: true
  n_processes: 16
  batch_size: 100
  use_gnu_parallel: false
  grid:
    dime: [129, 129, 129]
    cglen: [200.0, 200.0, 200.0]
    fglen: [200.0, 200.0, 200.0]
  ions:
    concentration: 0.150
    pos_radius: 2.0
    neg_radius: 1.8
  dielectric:
    solute: 2.0
    solvent: 78.5
  surface_method: "smol" 